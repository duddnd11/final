<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.auction.mapper.ProductMapper">
	<insert id="insertProduct">
		INSERT INTO product(pname, image, price, uploaddate, deadlinedate, hitcount, ID, bestmoney, admin, category, auctionmenu, deal) VALUES(#{pname},#{image},#{price},#{uploaddate},#{deadlinedate},#{hitcount},#{ID},#{bestmoney},#{admin},#{category},#{auctionmenu},#{deal})
	</insert>
	
<<<<<<< HEAD
	<select id="selectAuction" resultType="com.auction.vo.ProductVo">
=======
	<select id="selectAuction" resultType="com.auction.dto.ProductVo">
>>>>>>> refs/remotes/origin/main
		select * from product where auctionmenu='일반' order by uploaddate desc;
	</select>

<<<<<<< HEAD
	<select id="selectAuctionBlind" resultType="com.auction.vo.ProductVo">
=======
	<select id="selectAuctionBlind" resultType="com.auction.dto.ProductVo">
>>>>>>> refs/remotes/origin/main
		select * from product where auctionmenu='블라인드' order by uploaddate desc;
	</select>
		
<<<<<<< HEAD
	<select id="selectPop" resultType="com.auction.vo.ProductVo">
=======
	<select id="selectPop" resultType="com.auction.dto.ProductVo">
>>>>>>> refs/remotes/origin/main
		SELECT * FROM product order by hitcount desc;
	</select>
<<<<<<< HEAD
	<select id="selectHurry" resultType="com.auction.vo.ProductVo">
=======
	<select id="selectHurry" resultType="com.auction.dto.ProductVo">
>>>>>>> refs/remotes/origin/main
		SELECT pno, uploaddate, deadlinedate, (TIMESTAMPDIFF(day, NOW(), deadlinedate)+1) as timeout from product order by timeout asc;
	</select>
	
<<<<<<< HEAD
	<select id="selectOne" resultType="com.auction.vo.ProductVo">
=======
	<select id="selectOne" resultType="com.auction.dto.ProductVo">
>>>>>>> refs/remotes/origin/main
		SELECT * FROM product where pno=#{pno}
	</select>
	<update id="hitcountUp">
		update product set hitcount= hitcount+1 where pno=#{pno}
	</update>
</mapper>  